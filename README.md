# Лабораторная работа №9: Мессенджер на WebSocket с использованием Tornado и Redis

Данный проект представляет собой простой мессенджер, реализованный на Python с использованием Tornado, WebSocket и Redis. Основная цель проекта — организация взаимодействия пользователей в режиме реального времени через веб-интерфейс.

## Установка и запуск

### 1. Клонирование репозитория
Склонируйте данный репозиторий на свой компьютер:
```bash
git clone https://github.com/LizzBizzLol/otpro9.git
cd otpro9
```

### 2. Установка зависимостей
Создайте виртуальную среду (опционально) и установите необходимые зависимости:
```bash
python -m venv venv
source venv/bin/activate # Для Linux/MacOS
venv\Scripts\activate   # Для Windows
pip install -r requirements.txt
```

### 3. Запуск Redis
Запустите Redis-сервер:
```bash
redis-server
```

Если Redis установлен в качестве службы Windows, убедитесь, что она запущена.

### 4. Запуск серверов
1. Запустите сервер WebSocket:
    ```bash
    python server.py
    ```
    Сервер будет доступен по адресу: `ws://localhost:8888/ws`

2. Запустите сервер для фронтенда (HTML):
    ```bash
    python -m http.server 8000
    ```
    Сервер будет доступен по адресу: `http://localhost:8000/index.html`

### 5. Открытие приложения
Откройте файл `index.html` в браузере, перейдя по адресу:
```
http://localhost:8000/index.html
```

## Структура проекта
- `server.py`: серверная часть, реализованная на Tornado, для обработки WebSocket-соединений и взаимодействия с Redis.
- `index.html`: клиентская часть с простым интерфейсом для общения через WebSocket.
- `requirements.txt`: список зависимостей для Python-проектов.

## Как работает мессенджер
1. Клиенты подключаются к серверу через WebSocket.
2. Сообщения пользователей отправляются через WebSocket-соединение на сервер Tornado.
3. Сервер публикует сообщения в Redis, используя механизм pub/sub.
4. Все подключенные клиенты получают сообщение через WebSocket.

## Примечания
- Убедитесь, что порт Redis (по умолчанию 6379) не занят другими процессами.
- В случае возникновения проблем с WebSocket убедитесь, что ваш браузер поддерживает WebSocket-соединения и разрешены локальные соединения.

## Зависимости
Список основных зависимостей находится в `requirements.txt`:
```plaintext
tornado==6.3.3
redis==5.0.0
```

Установить их можно командой:
```bash
pip install -r requirements.txt
```
